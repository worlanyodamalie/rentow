(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{285:function(t,e,r){t.exports=r.p+"img/apartment.8ad8cd5.svg"},318:function(t,e,r){var content=r(335);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(35).default)("bb788522",content,!0,{sourceMap:!1})},334:function(t,e,r){"use strict";r(318)},335:function(t,e,r){var n=r(34)(!1);n.push([t.i,".approval-wrapper{background:#fbfcff;padding:2rem 0 0 1.5rem;flex-basis:23rem;flex-grow:1;min-height:100vh;border:1px solid #f2f2f2}.approval-content{flex-basis:0;flex-grow:999;min-width:60%;padding:3rem}.approval-wrapper ul{list-style:none;padding-left:0}.approval-wrapper ul>li{padding:.95rem 0}.agent-list-img{height:auto;width:3rem}.agent-profile-img{height:auto;width:5rem}.approval-wrapper ul>li.active{border-left:4px solid #07a287;background:#fff}.badge{padding:.6rem;border-radius:11px;font-weight:400;cursor:pointer}.badge--await{background:rgba(255,75,110,.08);color:#ff4b6e}",""]),t.exports=n},355:function(t,e,r){"use strict";r.r(e);var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ph3"},[e("img",{staticClass:"agent-list-img",attrs:{src:r(188)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pr4"},[e("img",{staticClass:"agent-profile-img",attrs:{src:r(188)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-20"},[e("img",{attrs:{src:r(285)}})])}],o=r(7),l=(r(56),r(57),r(125),r(36),r(192),r(68),r(69),r(40),{name:"Approval",layout:"approval",data:function(){return{search:null,selectedapartment:"",selectedapproval:"",apartmentoptions:["Single room","Two bedroom apartment","Three bedroom apartment"],approvaloptions:["Awaiting approval","Rejected","Accepted"],agents:[],agentdetails:[],apartments:[{image:"apartment.svg",location:"Achimota",price:6e3,title:"A mini self contain apartment",utilities:["1 bedroom","1 bathroom"]},{image:"apartment.svg",location:"Achimota",price:6e3,title:"One bedroom apartment",utilities:["1 bedroom","1 bathroom"]},{image:"apartment.svg",location:"Achimota",price:6e3,title:"Two bedroom apartment",utilities:["2 bedroom","1 bathroom"]},{image:"apartment.svg",location:"Achimota",price:6e3,title:"A self contain apartment",utilities:["1 bedroom","1 bathroom"]},{image:"apartment.svg",location:"Achimota",price:6e3,title:"Three bedroom apartment",utilities:["3 bedroom","2 bathroom"]},{image:"apartment.svg",location:"Achimota",price:6e3,title:"Four bedroom apartment",utilities:["4 bedroom","3 bathroom"]}],isContent:!1,activeCount:0}},computed:{filteredAgents:function(){var t=this;return this.search?this.agents.filter((function(e){return t.search.toLowerCase().split(" ").every((function(t){return e.name.toLowerCase().includes(t)}))})):this.agents},propertyLabel:function(text){return function(text){return text>1?"properties":"property"}}},mounted:function(){this.getAgents()},methods:{getAgents:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.$auth.$storage.getUniversal("user"),n="Bearer "+r.token,t.$axios.setHeader("Authorization",n),e.next=6,t.$axios.$get("admin/agents");case 6:o=e.sent,t.agents=o.data,l={name:t.agents[0].name,active_since:t.agents[0].created_at,key_count:0},t.getAgentProperties(t.agents[0].id,l),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},getAgentProperties:function(t,e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,l,c,details;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("clicked",e),r.isContent=!0,r.activeCount=e.key_count,o=r.$auth.$storage.getUniversal("user"),l="Bearer "+o.token,r.$axios.setHeader("Authorization",l),n.next=8,r.$axios.$get("admin/agent/property-listings/".concat(t));case 8:return c=n.sent,details={property:c.data,data:e},r.agentdetails.length=0,console.log(r.agentdetails),r.isContent=!1,n.abrupt("return",r.agentdetails.push(details));case 14:case"end":return n.stop()}}),n)})))()},memberSince:function(t){return new Date(t).toDateString()}}}),c=(r(334),r(11)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"flex flex-wrap"},[r("div",{staticClass:"approval-wrapper"},[r("div",{staticClass:"pr3 mb4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"w-100",staticStyle:{"border-radius":"4px"},attrs:{type:"text",placeholder:"Search by agent name"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._v(" "),r("ul",t._l(t.filteredAgents,(function(e,n){return r("li",{key:n,class:t.activeCount===n?"active":""},[r("a",{staticClass:"flex items-center cursor",on:{click:function(r){return t.getAgentProperties(e.id,{name:e.name,active_since:e.created_at,key_count:n})}}},[t._m(0,!0),t._v(" "),r("div",[r("p",{staticClass:"mb2 fw7 dark f5"},[t._v(t._s(e.name))]),t._v(" "),r("p",{staticClass:"fw4 dark f6"},[t._v("\n                "+t._s(e.property_listings_count)+"\n                "+t._s(t.propertyLabel(e.property_listings_count))+"\n              ")])])])])})),0)]),t._v(" "),r("div",{staticClass:"approval-content",class:!0===t.isContent?"o-05":""},[0!==t.agentdetails.length?r("div",[r("div",{staticClass:"flex pb4 bb b--light-gray"},[t._m(1),t._v(" "),r("div",[r("h2",{staticClass:"lh-copy fw7 dark f2 mb1"},[t._v("\n              "+t._s(0===t.agentdetails.length?"":t.agentdetails[0].data.name)+"\n            ")]),t._v(" "),r("p",{staticClass:"fw4 grey--6 lh-copy f5"},[r("svg",{staticStyle:{"vertical-align":"text-bottom"},attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.2954 9.605L11.7274 15.605C11.5394 15.852 11.2484 15.998 10.9384 16H10.9314C10.6244 16 10.3344 15.858 10.1444 15.616L7.7124 12.509C7.3724 12.075 7.4484 11.446 7.8834 11.106C8.3174 10.765 8.9474 10.841 9.2874 11.277L10.9204 13.363L14.7044 8.394C15.0384 7.955 15.6654 7.869 16.1064 8.204C16.5454 8.539 16.6304 9.166 16.2954 9.605ZM12.0004 2C6.4774 2 2.0004 6.477 2.0004 12C2.0004 17.522 6.4774 22 12.0004 22C17.5234 22 22.0004 17.522 22.0004 12C22.0004 6.477 17.5234 2 12.0004 2Z",fill:"url(#paint0_linear)"}}),t._v(" "),r("defs",[r("linearGradient",{attrs:{id:"paint0_linear",x1:"12.0004",y1:"2",x2:"12.0004",y2:"22",gradientUnits:"userSpaceOnUse"}},[r("stop",{attrs:{"stop-color":"#08B395"}}),t._v(" "),r("stop",{attrs:{offset:"1","stop-color":"#0C977F"}})],1)],1)]),t._v(" "),t._v("\n              "+t._s(t.memberSince(t.agentdetails[0].data.active_since))+"\n            ")])])]),t._v(" "),r("div",{staticClass:"flex pv4"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedapartment,expression:"selectedapartment"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedapartment=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"",disabled:""}},[t._v("Select apartment type")]),t._v(" "),t._l(t.apartmentoptions,(function(e,n){return r("option",{key:n},[t._v("\n              "+t._s(e)+"\n            ")])}))],2),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedapproval,expression:"selectedapproval"}],staticClass:"mh4",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedapproval=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"",disabled:""}},[t._v("Select approval type")]),t._v(" "),t._l(t.approvaloptions,(function(e,n){return r("option",{key:n},[t._v("\n              "+t._s(e)+"\n            ")])}))],2)]),t._v(" "),r("div",t._l(t.agentdetails[0].property,(function(e,n){return r("div",{key:n,staticClass:"ba b--light-gray pa3 br3 flex items-center flex-wrap mb4"},[t._m(2,!0),t._v(" "),r("div",{staticClass:"ph4"},[r("h3",{staticClass:"dark fs-normal fw7 pv3 grey--5 f4"},[t._v("\n                "+t._s(e.title)+"\n              ")]),t._v(" "),r("ul",{staticClass:"flex flex-wrap featured-prop-ul"},[r("li",[r("p",[t._v(t._s(e.city))])]),t._v(" "),r("li",[r("p",[r("span",{staticClass:"rounded-grey-dot"}),t._v(t._s(e.number_of_rooms)+" bedroom(s)\n                  ")])]),t._v(" "),r("li",[r("p",[r("span",{staticClass:"rounded-grey-dot"}),t._v(t._s(e.number_of_bathrooms)+" bathroom(s)\n                  ")])])]),t._v(" "),r("h3",{staticClass:"pv2 green"},[t._v("\n                GHS "+t._s(e.amount)+"\n                "),r("span",{staticClass:"grey--4 f6"},[t._v("per month")])])]),t._v(" "),r("span",{staticClass:"badge badge--await mx-auto"},[t._v("Awaiting approval")]),t._v(" "),r("nuxt-link",{staticClass:"btn btn--green-outline",attrs:{to:"/approval/"+e.id}},[t._v("View")])],1)})),0)]):t._e(),t._v(" "),r("div",{attrs:{else:""}})])])])}),n,!1,null,null,null);e.default=component.exports}}]);